<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cuestionario Fitness Femenino</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Quicksand', sans-serif;
      background: #1e1e2f;
      padding: 40px 20px;
      margin: 0;
      color: #f3e9f1;
      transition: filter 0.3s ease;
    }
    .container {
      max-width: 960px;
      margin: auto;
      transition: filter 0.5s ease;
    }
    h1 {
      color: #f6adc6;
      margin-top: 0;
      text-align: center;
      font-size: 28px;
    }
    h2 {
      color: #f6adc6;
      margin-top: 0;
      font-size: 20px;
    }
    section {
      background: #2c2c40;
      padding: 28px;
      margin-bottom: 40px;
      border-radius: 18px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }
    label {
      display: flex;
      align-items: flex-start;
      margin: 10px 0 4px 0;
      font-size: 16px;
      color: #e8d8e8;
      transition: all 0.3s ease;
      padding: 6px;
      border-radius: 6px;
    }
    label:hover {
      background-color: #3b3b51;
      border-radius: 6px;
      box-shadow: 0 0 8px rgba(255, 192, 203, 0.3);
      padding: 6px;
    }
    input[type="checkbox"] {
      appearance: none;
      width: 20px;
      height: 20px;
      border: 2px solid #e08bb3;
      border-radius: 4px;
      background-color: #2c2c40;
      display: inline-block;
      position: relative;
      cursor: pointer;
      margin-right: 10px;
      margin-top: 2px; /* Ajuste para alinear con el texto */
      flex-shrink: 0; /* Evita que el checkbox se reduzca */
      transition: background-color 0.2s ease;
    }
    input[type="checkbox"]:checked::before {
      content: '‚úî';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 14px;
      color: #fff;
    }
    input[type="checkbox"]:checked {
      background-color: #e08bb3;
      border-color: #e08bb3;
    }
    textarea {
      width: 100%;
      height: 70px;
      margin: 8px 0 0 0;
      padding: 12px;
      border: 1px solid #a86ca4;
      border-radius: 8px;
      background: #3b3b51;
      resize: vertical;
      font-size: 15px;
      color: #f6dff0;
    }
    button {
      display: inline-block;
      background-color: #d477aa;
      color: white;
      border: none;
      padding: 10px 24px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      transition: background-color 0.3s, transform 0.2s;
    }
    button:hover {
      background-color: #bb5c92;
      transform: scale(1.05);
    }
    @media (max-width: 600px) {
      h1 {
        font-size: 24px;
      }
      h2 {
        font-size: 18px;
      }
      button {
        width: 100%;
      }
    }
    .popup {
      transform: translate(-50%, -50%) scale(1);
      transition: opacity 0.5s ease, transform 0.3s ease;
      opacity: 0;
      pointer-events: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #2c2c40;
      color: #f6adc6;
      border: 2px solid #bb5c92;
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      z-index: 1000;
      display: none;
    }
    .popup h3 {
      margin: 0;
      font-size: 22px;
    }
    .popup button {
      margin-top: 20px;
      background-color: #bb5c92;
    }
    .blurred {
      filter: blur(4px);
      pointer-events: none;
    }
    
    .popup-icon {
      animation: float 2s ease-in-out infinite;
      display: inline-block;
      font-size: 26px;
      margin-bottom: 10px;
    }
    @keyframes float {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-8px);
      }
    }
    
    /* Mejoras de estilo para popups */
    #warningPopup {
      max-width: 500px;
      width: 90%;
      padding: 30px 25px;
    }
    
    #warningPopup h3 {
      font-size: 18px;
      line-height: 1.5;
      margin-bottom: 15px;
    }
    
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 999;
      display: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    /* Estilos para inputs num√©ricos */
    input[type="number"], input[type="email"] {
      width: 100%; 
      padding: 8px; 
      border-radius: 6px; 
      border: 1px solid #a86ca4; 
      background: #3b3b51; 
      color: #f6dff0;
      font-size: 15px;
      margin-bottom: 10px;
    }
    
    /* Estilos para d√≠as de entrenamiento y TODOS los checkboxes */
    .dias-entreno {
      display: flex; 
      flex-wrap: wrap; 
      gap: 10px 8px; 
      width: 100%; 
      justify-content: space-between; 
      margin-top: 4px;
    }
    
    /* Ya no necesitamos estas reglas espec√≠ficas para d√≠as-entreno porque
       ahora todos los labels tienen efecto hover */
    /*.dias-entreno label {
      transition: all 0.3s ease;
    }
    
    .dias-entreno label:hover {
      background-color: #3b3b51;
      border-radius: 6px;
      box-shadow: 0 0 8px rgba(255, 192, 203, 0.3);
      padding: 6px;
    }*/
    
    /* Correci√≥n para alineaci√≥n de checkbox con texto */
    label span {
      padding-top: 2px;
    }
  </style>
</head>
<body>
  <div id="main-content" class="container">
    <h1>‚ú® Cuestionario de Bienestar y Fitness Femenino ‚ú®</h1>
    <form id="fitnessForm" action="https://formspree.io/f/xbloanzd" method="POST">
      <input type="hidden" id="timestamp" name="fecha_envio" value="">
      <input type="hidden" id="subjectField" name="_subject" value="">
      <input type="hidden" name="_format" value="html">
      <section>
        <h2>üçë 1. Objetivos Est√©ticos <span style='font-size:14px; color:#ccc;'>(elige una o m√°s)</span></h2>
        <label><input type="checkbox" name="respuestas[]" value="Aumentar gl√∫teos üçë"><span>Aumentar gl√∫teos üçë</span></label>
        <label><input type="checkbox" name="respuestas[]" value="Marcar el abdomen üî•"><span>Marcar el abdomen üî•</span></label>
        <label><input type="checkbox" name="respuestas[]" value="Reducir grasa abdominal üßò‚Äç‚ôÄÔ∏è"><span>Reducir grasa abdominal üßò‚Äç‚ôÄÔ∏è</span></label>
        <label><input type="checkbox" name="respuestas[]" value="Mantener brazos estilizados üíÉ"><span>Mantener brazos estilizados üíÉ</span></label>
        <label><input type="checkbox" name="respuestas[]" value="Sentirse tonificada sin parecer musculosa üí™"><span>Sentirse tonificada sin parecer musculosa üí™</span></label>
        <label><input type="checkbox" name="respuestas[]" value="Mejorar postura y firmeza corporal üßç‚Äç‚ôÄÔ∏è"><span>Mejorar postura y firmeza corporal üßç‚Äç‚ôÄÔ∏è</span></label>
      </section>

      <section>
        <h2>üìä 2. Composici√≥n Corporal <span style='font-size:14px; color:#ccc;'>(elige una o m√°s)</span></h2>
        <label><input type="checkbox" name="composicion[]" value="Delgada"><span>Delgada</span></label>
        <label><input type="checkbox" name="composicion[]" value="Promedio"><span>Promedio</span></label>
        <label><input type="checkbox" name="composicion[]" value="Acumula grasa abdominal"><span>Acumula grasa abdominal</span></label>
        <label><input type="checkbox" name="composicion[]" value="Retenci√≥n de l√≠quidos"><span>Retenci√≥n de l√≠quidos</span></label>
        <label><input type="checkbox" name="composicion[]" value="Gana grasa con facilidad"><span>Gana grasa con facilidad</span></label>
      </section>

      <section>
        <h2>ü•ó 3. Alimentaci√≥n Actual <span style='font-size:14px; color:#ccc;'>(elige una)</span></h2>
        <label><input type="checkbox" name="alimentacion[]" value="2 o menos comidas al d√≠a"><span>2 o menos comidas al d√≠a</span></label>
        <label><input type="checkbox" name="alimentacion[]" value="3 comidas al d√≠a"><span>3 comidas al d√≠a</span></label>
        <label><input type="checkbox" name="alimentacion[]" value="4-5 comidas al d√≠a"><span>4-5 comidas al d√≠a</span></label>
        <label><input type="checkbox" name="alimentacion[]" value="M√°s de 5 comidas al d√≠a"><span>M√°s de 5 comidas al d√≠a</span></label>
      </section>

      <section>
        <h2>üèãÔ∏è‚Äç‚ôÄÔ∏è 4. Ejercicio Actual <span style='font-size:14px; color:#ccc;'>(elige una o m√°s)</span></h2>
        <label><input type="checkbox" name="ejercicio[]" value="No entreno"><span>No entreno</span></label>
        <label><input type="checkbox" name="ejercicio[]" value="1-2 d√≠as a la semana"><span>1-2 d√≠as a la semana</span></label>
        <label><input type="checkbox" name="ejercicio[]" value="3-4 d√≠as a la semana"><span>3-4 d√≠as a la semana</span></label>
        <label><input type="checkbox" name="ejercicio[]" value="5 o m√°s d√≠as"><span>5 o m√°s d√≠as</span></label>
        <label><input type="checkbox" name="ejercicio[]" value="Cardio üèÉ‚Äç‚ôÄÔ∏è"><span>Cardio üèÉ‚Äç‚ôÄÔ∏è</span></label>
        <label><input type="checkbox" name="ejercicio[]" value="Pesas/gimnasio üèãÔ∏è‚Äç‚ôÄÔ∏è"><span>Pesas/gimnasio üèãÔ∏è‚Äç‚ôÄÔ∏è</span></label>
        <label><input type="checkbox" name="ejercicio[]" value="HIIT/Funcional ‚è±Ô∏è"><span>HIIT/Funcional ‚è±Ô∏è</span></label>
        <label><input type="checkbox" name="ejercicio[]" value="En casa sin equipo üè†"><span>En casa sin equipo üè†</span></label>
      </section>

      <section>
        <h2>üíä 5. Suplementaci√≥n <span style='font-size:14px; color:#ccc;'>(elige una o m√°s)</span></h2>
        <label><input type="checkbox" name="suplementacion[]" value="Energ√≠a y enfoque (NMN, maca, etc.) ‚ö°"><span>Energ√≠a y enfoque (NMN, maca, etc.) ‚ö°</span></label>
        <label><input type="checkbox" name="suplementacion[]" value="Digesti√≥n (probi√≥ticos, k√©fir, enzimas) ü¶†"><span>Digesti√≥n (probi√≥ticos, k√©fir, enzimas) ü¶†</span></label>
        <label><input type="checkbox" name="suplementacion[]" value="Est√©tica y composici√≥n corporal (creatina, col√°geno, prote√≠na) ‚ú®"><span>Est√©tica y composici√≥n corporal (creatina, col√°geno, prote√≠na) ‚ú®</span></label>
        <label><input type="checkbox" name="suplementacion[]" value="No me interesa tomar suplementos ‚ùå"><span>No me interesa tomar suplementos ‚ùå</span></label>
      </section>
      
      <section>
        <h2>üéØ 6. Motivaci√≥n <span style='font-size:14px; color:#ccc;'>(elige una o m√°s seg√∫n c√≥mo te sientas)</span></h2>
        <label><input type="checkbox" name="motivacion_check[]" value="Quiero resultados r√°pidos con poco esfuerzo ‚è≥"><span>Quiero resultados r√°pidos con poco esfuerzo ‚è≥</span></label>
        <label><input type="checkbox" name="motivacion_check[]" value="Estoy dispuesta a aprender y crear h√°bitos üìà"><span>Estoy dispuesta a aprender y crear h√°bitos üìà</span></label>
        <label><input type="checkbox" name="motivacion_check[]" value="Estoy 100% comprometida con mi cambio üí•"><span>Estoy 100% comprometida con mi cambio üí•</span></label>
      </section>

      <section>
        <h2>üìù Informaci√≥n Personal <span style='font-size:14px; color:#ccc;'>(completa los campos requeridos)</span></h2>
        <label for="edad">Edad:</label>
        <input type="number" name="edad" id="edad" required min="12" max="90">

        <label for="estatura">Estatura (cm):</label>
        <input type="number" name="estatura" id="estatura" required min="100" max="250">

        <label for="peso">Peso actual (kg):</label>
        <input type="number" name="peso" id="peso" required min="30" max="200">

        <label for="condiciones">¬øTienes condiciones m√©dicas?</label>
        <textarea name="condiciones" id="condiciones" placeholder="Ej: hipotiroidismo, anemia..." required></textarea>

        <label for="sueno">Horas de sue√±o por noche:</label>
        <input type="number" name="sueno" id="sueno" required min="3" max="12">

        <label for="tiempo_entreno">Tiempo para entrenar al d√≠a (min):</label>
        <input type="number" name="tiempo_entreno" id="tiempo_entreno" required min="10" max="180">

        <h3 style='margin-top:20px; margin-bottom: 10px;'>¬øQu√© d√≠as puedes entrenar?</h3>
        <div class="dias-entreno">
          <label><input type="checkbox" name="dias_entreno[]" value="Lunes"><span>Lunes</span></label>
          <label><input type="checkbox" name="dias_entreno[]" value="Martes"><span>Martes</span></label>
          <label><input type="checkbox" name="dias_entreno[]" value="Mi√©rcoles"><span>Mi√©rcoles</span></label>
          <label><input type="checkbox" name="dias_entreno[]" value="Jueves"><span>Jueves</span></label>
          <label><input type="checkbox" name="dias_entreno[]" value="Viernes"><span>Viernes</span></label>
          <label><input type="checkbox" name="dias_entreno[]" value="S√°bado"><span>S√°bado</span></label>
          <label><input type="checkbox" name="dias_entreno[]" value="Domingo"><span>Domingo</span></label>
        </div>
      </section>
      
      <div style="text-align: center; margin-top: 20px; margin-bottom: 40px;">
        <button type="button" onclick="validateForm(event)">üöÄ Enviar Respuestas</button>
      </div>
    </form>
  </div>

  <div id="overlay" class="overlay"></div>
  
  <div id="popup" class="popup">
    <div class="popup-icon">üíñ</div>
    <h3>¬°Gracias por completar el cuestionario!</h3>
    <p style="font-size:14px; color:#ccc; margin-top: 16px;">Deja tu correo electr√≥nico para enviarte tus resultados personalizados. Esta rutina puede adaptarse mejor si conocemos m√°s de ti.</p>
    <p style="font-size:13px; color:#aaa; margin-top: 6px;">Por favor incluye tu edad, estatura, peso actual y cualquier dato que consideres importante.</p>
    <input type="email" id="popupEmail" name="correo_usuario" placeholder="Ej: mariafit@gmail.com" required>
    <button type="button" onclick="submitPopupEmail()" style="margin-top: 16px;" id="popupSendButton">Enviar</button>
    <span onclick="closePopup()" style="position:absolute;top:10px;right:15px;font-size:20px;cursor:pointer;">‚ùå</span>
  </div>

  <div id="warningPopup" class="popup">
    <div class="popup-icon">‚ö†Ô∏è</div>
    <h3>Por favor selecciona al menos una opci√≥n y responde la secci√≥n de informaci√≥n personal.</h3>
    <button onclick="closeWarning()">Cerrar</button>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const now = new Date();
      const fecha = now.toLocaleDateString();
      const hora = now.toLocaleTimeString();
      const randomID = Math.random().toString(36).substring(2, 7).toUpperCase();
      document.getElementById("subjectField").value = `Nuevo Cuestionario Fitness #${randomID} - ${fecha} ${hora}`;
      document.getElementById("timestamp").value = `${fecha} ${hora}`;
    });
    
    function validateForm(event) {
      event.preventDefault();
      const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');
      let hasChecked = checkboxes.length > 0;

      // Verificar que se hayan completado los campos requeridos
      const requiredFields = document.querySelectorAll('input[required], textarea[required]');
      let allRequiredFilled = true;
      requiredFields.forEach(field => {
        if (field.value.trim() === '') allRequiredFilled = false;
      });

      if (!hasChecked || !allRequiredFilled) {
        showWarning();
        return false;
      }

      showPopup();
      return false;
    }
    
    function showWarning() {
      document.getElementById('overlay').style.display = 'block';
      setTimeout(() => {
        document.getElementById('overlay').style.opacity = '1';
      }, 10);
      
      document.getElementById('main-content').classList.add('blurred');
      const warning = document.getElementById('warningPopup');
      warning.style.display = 'block';
      setTimeout(() => {
        warning.style.opacity = '1';
        warning.style.pointerEvents = 'auto';
      }, 10);
    }
    
    function showPopup() {
      document.getElementById('overlay').style.display = 'block';
      setTimeout(() => {
        document.getElementById('overlay').style.opacity = '1';
      }, 10);
      
      document.getElementById('main-content').classList.add('blurred');
      const popup = document.getElementById('popup');
      popup.style.display = 'block';
      setTimeout(() => {
        popup.style.opacity = '1';
        popup.style.pointerEvents = 'auto';
      }, 10);
    }

    function closePopup() {
      document.getElementById('overlay').style.opacity = '0';
      setTimeout(() => {
        document.getElementById('overlay').style.display = 'none';
      }, 300);
      
      const popup = document.getElementById('popup');
      popup.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
      popup.style.opacity = '0';
      popup.style.transform = 'translate(-50%, -55%) scale(0.85)';
      popup.style.pointerEvents = 'none';
      setTimeout(() => {
        popup.style.display = 'none';
        popup.style.transform = 'translate(-50%, -50%) scale(1)';
      }, 500);
      document.getElementById('main-content').classList.remove('blurred');
    }

    function closeWarning() {
      document.getElementById('overlay').style.opacity = '0';
      setTimeout(() => {
        document.getElementById('overlay').style.display = 'none';
      }, 300);
      
      const warning = document.getElementById('warningPopup');
      warning.style.opacity = '0';
      warning.style.pointerEvents = 'none';
      setTimeout(() => {
        warning.style.display = 'none';
      }, 500);
      document.getElementById('main-content').classList.remove('blurred');
    }

    function submitPopupEmail() {
      const emailInput = document.getElementById("popupEmail");
      
      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (emailPattern.test(emailInput.value)) {
        const form = document.getElementById("fitnessForm");
        const inputHidden = document.createElement('input');
        inputHidden.type = 'hidden';
        inputHidden.name = 'correo_usuario';
        inputHidden.value = emailInput.value;
        form.appendChild(inputHidden);
        
        // Mostrar mensaje de √©xito
        closePopup();
        showSuccessMessage();
        
        // Enviar formulario despu√©s de un peque√±o retraso
        setTimeout(() => {
          form.submit();
        }, 1000);
      } else {
        alert('Por favor, ingresa un correo electr√≥nico v√°lido.');
      }
    }

    function showSuccessMessage() {
      const msg = document.createElement('div');
      msg.textContent = '‚úÖ ¬°Formulario enviado con √©xito!';
      msg.style.color = '#c7f0d8';
      msg.style.background = '#2a3b2f';
      msg.style.borderRadius = '10px';
      msg.style.padding = '15px';
      msg.style.textAlign = 'center';
      msg.style.marginTop = '20px';
      msg.style.position = 'fixed';
      msg.style.bottom = '20px';
      msg.style.left = '50%';
      msg.style.transform = 'translateX(-50%)';
      msg.style.boxShadow = '0 2px 8px rgba(0,0,0,0.4)';
      msg.style.zIndex = '2000';
      msg.style.maxWidth = '90%';
      msg.style.width = '400px';
      document.body.appendChild(msg);
      setTimeout(() => {
        msg.style.opacity = '0';
        msg.style.transition = 'opacity 0.5s ease';
        setTimeout(() => msg.remove(), 500);
      }, 3000);
    }
  </script>
</body>
</html>